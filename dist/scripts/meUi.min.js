$(function(){"use strict";meui.initModule({ishash:!0,url:"json",api:"",tpl:"tpl",container:$("#main")})});var meui=function(){"use strict";var t=function(t){meui.shell.initModule(t),meui.aspectratio.initModule({}),meui.animated.initModule(),meui.Callback.initModule()};return{initModule:t}}();meui.exists=function(t){"use strict";return $(t).length>0},meui.copyright=function(){"use strict";var t=function(){var t="";console.log(t)};return{initModule:t}}(),meui.util=function(){"use strict";var t,e;return t=function(t,e,i){var a=new Error;return a.name=t,a.message=e,i&&(a.data=i),a},e=function(e){var i,a,n=e.input_map,r=e.settable_map,o=e.config_map;for(i in n)if(n.hasOwnProperty(i)){if(!r.hasOwnProperty(i))throw a=t("Bad Input","Setting config key |"+i+"| is not supported");o[i]=n[i]}},{makeError:t,setConfigMap:e}}(),meui.aspectratio=function(t){"use strict";var e,i;return i=function(){meui.exists(".container_aspectratio")&&t(".container_aspectratio").each(function(){var e=t(this),i=t(window).width(),a=parseFloat(t(this).attr("data-aspectratio")),n=t(this).attr("data-aspecttype"),r=t(this).attr("data-aspectelement");switch(n){case"winwidth_height_auto":e.height(i/a-2);break;case"winwidth_width_auto":e.width(i/a);break;case"thiswidth_height_auto":e.height(e.width()/a);break;case"winwidth_incon_imgwidth_auto":e.find("img").each(function(){var e=parseFloat(t(this).attr("data-aspectratio"));t(this).width(i/e)});break;case"winwidth_incon_elementheight_auto":e.find(r).each(function(){t(this).height(i/a)});break;default:e.height(i/a-2)}})},e=function(){i(),t(document).ready(function(){i()})},{initModule:e}}(jQuery),meui.viewport=function(t){t.belowthefold=function(e,i){var a=t(window).height()+t(window).scrollTop();return a<=t(e).offset().top-i.threshold},t.abovethetop=function(e,i){var a=t(window).scrollTop();return a>=t(e).offset().top+t(e).height()-i.threshold},t.rightofscreen=function(e,i){var a=t(window).width()+t(window).scrollLeft();return a<=t(e).offset().left-i.threshold},t.leftofscreen=function(e,i){var a=t(window).scrollLeft();return a>=t(e).offset().left+t(e).width()-i.threshold},t.inviewport=function(e,i){return!(t.rightofscreen(e,i)||t.leftofscreen(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return t.abovethetop(e,{threshold:0})},"left-of-screen":function(e){return t.leftofscreen(e,{threshold:0})},"right-of-screen":function(e){return t.rightofscreen(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})}})}(jQuery),meui.animated=function(t){"use strict";var e,i;return i=function(){meui.exists(".animate-element")&&t(".animate-element:in-viewport").each(function(e){var i=t(this);i.hasClass("in-viewport")||setTimeout(function(){i.addClass("in-viewport")},100*e)}),t(".animate-element:below-the-fold").each(function(e){var i=t(this);i.hasClass("in-viewport")&&setTimeout(function(){i.removeClass("in-viewport")},100*e)})},e=function(){i(),t(window).scroll(function(){i()})},{initModule:e}}(jQuery),meui.shell=function(){"use strict";var t,e,i={ishash:!1,container:null,url:"/",api:"api.php/",tpl:""},a={};return t=function(){var t=i.container,e=i.ishash,n=i.tpl,r=i.url,o=i.api;a={$container:t,$ishash:e,$tpl:n,$url:r,$api:o}},e=function(e){i.ishash=e.ishash,i.container=e.container,i.url=e.url,i.api=e.api,i.tpl=e.tpl,t(),a.$ishash?(console.log("hash is done"),meui.hashset.initModule(a)):console.log("hash is close")},{initModule:e}}(),meui.loadMore=function(){var t,e,i,a={_default:"",_loading:null,_item:"",_more:""},n={};return i=function(){var t=a._default,e=a._loading,i=a._item,r=a._more;n={$default:t,$loading:e,$item:i,$more:r}},e=function(){var t,e=$(n.$item),i=$(n.$item).length;i>n.$default?t=n.$default:(t=i,$(n.$more).hide());for(var a=0;t>a;a++)e.eq(a).show()},loadMore=function(){var t=$(n.$item),e=$(n.$item).length,i=$(n.$item+":visible").length;i==e&&$(n.$more).html("全部加载完毕");for(var a=0;a<n.$loading;a++)t.eq(i+a).show(),meui.aspectratio.initModule({}),i+a==e&&$(n.$more).html("全部加载完毕")},t=function(t,r,o,h){a._default=t,a._loading=r,a._item=o,a._more=h,i(),$(n.$item).hide(),e(),$(n.$more).click(function(){loadMore()})},{initModule:t}}(),meui.hashset=function(){"use strict";var t,e,i,a,n={hasharry:"",hash:null,hashmain:"",container:"",catid:null,tempindex:"",type:"",tpl:"",url:"",api:""},r={};return a=function(){var t=n.hasharry,e=n.hash,i=n.hashmain,a=n.container,o=n.catid,h=n.tempindex,s=n.type,u=n.tpl,l=n.url,c=n.api;r={$hasharry:t,$hash:e,$hashmain:i,$catid:o,$tempindex:h,$type:s,$container:a,$tpl:u,$url:l,$api:c}},e=function(){""!=r.$hasharry?(r.$hash=r.$hasharry[1].split("/"),r.$hash.length>0&&(r.$catid=r.$hash[3],r.$tempindex=r.$hash[1],r.$type=r.$hash[2],r.$hashmain=r.$hash[0])):r.$hash=""},i=function(){n.hasharry=location.hash.split("#"),a(),e(),meui.medel.initModule(r),meui.animated.initModule()},t=function(t){n.container=t.$container,n.tpl=t.$tpl,n.url=t.$url,n.api=t.$api,a(),$(window).unbind("hashchange").bind("hashchange",i).trigger("hashchange")},{initModule:t}}(),meui.templates=function(){"use strict";var stateMap={tpl:"",hashmain:"",container:"",tempindex:""},initModule,jqueryMap={},setJqueryMap,jqueryMap,settemplates,loadtemplates,loadAction,reload;return setJqueryMap=function(){var t=stateMap.hashmain,e=stateMap.tpl,i=stateMap.container,a=stateMap.tempindex;jqueryMap={$hashmain:t,$tpl:e,$container:i,$tempindex:a}},loadAction=function(data){var actionstr="";actionstr=jqueryMap.$hashmain?"meui."+jqueryMap.$hashmain+"_action.initModule(data,jqueryMap);":"meui.Index_action.initModule(data,jqueryMap);",eval(actionstr),meui.aspectratio.initModule({})},loadtemplates=function(){$(jqueryMap.$container).css("min-height",$(window).height()-$("header").height()+"px"),$.get("./"+jqueryMap.$tpl+"/Load_tmp.html",function(t){var e=$.templates(t),i=e.render();$(jqueryMap.$container).html(i),$("article").addClass("in-viewport"),reload()})},reload=function(){$("html, body").animate({scrollTop:0},"slow")},settemplates=function(t){console.log(jqueryMap.$hashmain),""!=jqueryMap.$hashmain?"show"==jqueryMap.$tempindex?$.get("./"+jqueryMap.$tpl+"/"+jqueryMap.$hashmain+"_main_tmp.html",function(e){var i=$.templates(e),a=i.render(t);$(jqueryMap.$container).html(a),loadAction(t),$("article").addClass("in-viewport")}):$.get("./"+jqueryMap.$tpl+"/"+jqueryMap.$hashmain+"_tmp.html",function(e){var i=$.templates(e),a=i.render(t);$(jqueryMap.$container).html(a),loadAction(t),meui.aspectratio,$("article").addClass("in-viewport")}):$.get("./"+jqueryMap.$tpl+"/Index_tmp.html",function(e){var i=$.templates(e),a=i.render(t);$("title").html("首页-哈尔滨市暖通风机"),$(jqueryMap.$container).html(a),loadAction(t),$("article").addClass("in-viewport")})},initModule=function(t,e){stateMap.container=t.$container,stateMap.tpl=t.$tpl,stateMap.hashmain=t.$hashmain,stateMap.tempindex=t.$tempindex,setJqueryMap(),loadtemplates(),setTimeout(function(){settemplates(e)},500)},{initModule:initModule}}(),meui.medel=function(){"use strict";var t,e,i,a={tpl:"",hashmain:"",container:"",tempindex:"",hasharry:null},n={};return t=function(){var t=a.url,e=a.api,i=a.hashmain,r=a.hasharry,o=a.container,h=a.tempindex,s=a.tpl;n={$url:t,$api:e,$hasharry:r,$hashmain:i,$container:o,$tempindex:h,$tpl:s}},i=function(){if(""!=n.$hasharry)if("show"==n.$tempindex)var t=n.$url+n.$api+"/"+n.$hashmain+"_show.json";else var t=n.$url+n.$api+"/"+n.$hashmain+".json";else var t=n.$url+n.$api+"/Index.json";$.getJSON(t,function(t){"118"===t.err_code&&meui.templates.initModule(n,t)})},e=function(e){a.url=e.$url,a.api=e.$api,a.hasharry=e.$hasharry,a.hashmain=e.$hashmain,a.container=e.$container,a.tpl=e.$tpl,a.tempindex=e.$tempindex,t(),i()},{initModule:e}}();